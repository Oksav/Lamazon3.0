@model IEnumerable<ProductViewModel>

@{
    ViewData["Title"] = "Products";
    // bool za proverka ima tuka isAdmin
}

<h2>Products</h2>
<div class="ModificationButtons">
    @if (User.IsInRole("admin"))
    {
        <a asp-controller="Products" asp-action="AddProduct"><input type="button" class="btn btn-primary" value="++Add Product" /></a>
        <a asp-controller="Products" asp-action="ModifyProduct"><input type="button" class="btn btn-primary" value="Modify Products List" /></a>
        
    }
</div>
<div class="allProducts">
    <div class="container">
        <div class="row">
            @foreach (var product in Model)
            {
                <!-- BEGIN PRODUCTS -->
                <div class="col-md-3 col-sm-6">
                    <span class="thumbnail">
                        @if (product.PhotoPath != null)
                        {
                            <img class="image" src="~/images/products/@product.PhotoPath" alt="@product.Name" asp-append-version="true">
                        }
                        else
                        {
                            <img class="image" src="https://img-a.udemycdn.com/course/750x422/147028_d030_9.jpg" alt="...">
                        } 
                        <h3>@product.Name</h3>
                        <h4>Category: @product.Category</h4>
                        <h5>@product.Quantity left</h5>
                        <p id="textDescription">@product.Description </p>
                        <hr class="line">
                        <div class="row">
                            <div class="col-md-6 col-sm-6">
                                <p class="price">$@product.Price</p>
                            </div>
                            <div class="col-md-6 col-sm-6">
                                @if (User.IsInRole("customer"))
                                {
                                    <a class="btn btn-success" asp-controller="Orders" asp-action="AddToCart" asp-route-productId="@product.ProductId">Add to cart</a>
                                }

                            </div>

                        </div>
                    </span>
                </div>

            }
        </div>
    </div>


    @*<div class="mt-3">
        <div class="table-responsive">
            <table class="table">

                <tbody>
                    @foreach (var product in Model)
                    {
                        <tr>
                            <th></th>
                            <th>Product</th>
                            <th>Category</th>
                            <th>Description</th>
                            <th>Price</th>
                        </tr>
                        <tr>
                            <td id="picture"> <img class="product-image" src="https://img-a.udemycdn.com/course/750x422/147028_d030_9.jpg" /></td>
                            <td id="id" style="display:none">@product.ProductId</td>
                            <td id="name">@product.Name</td>
                            <td id="category">@product.Category</td>
                            <td id="description">@product.Description</td>
                            <td id="price">@product.Price $</td>
                            <td><a class="btn btn-primary" asp-controller="Orders" asp-action="AddToCart" asp-route-productId="@product.ProductId">Add to cart</a></td>
                        </tr>
                    }

                </tbody>

            </table>
        </div>
    </div>*@

</div>

@*<div class="products">

    @foreach (var product in Model)
    {
    <div class="thumbnail">
        <img class="product-image" src="https://img-a.udemycdn.com/course/750x422/147028_d030_9.jpg" />

        <h3>@product.ProductId</h3>
        <h3>@product.Name</h3>
        <h3>@product.Price $</h3>
        <h3>Category: @product.Category</h3>
        <h4>@product.Description</h4>
        <a asp-controller="Orders" asp-action="AddToCart" asp-route-id=@product.ProductId><input type="button" class="btn btn-primary" value="Add to Cart" /></a>


    </div>
    }
</div>*@

<style>

    /*.thumbnail {
        display: flex;
        flex-direction: column;
        flex: 3;
        align-items: center;
    }

    .caption {
        display: flex;
        flex-direction: column;
        flex: 3;
        text-align: center;
    }

    #picture {
        margin: 30px;
        display: flex;
        flex: 4;
    }

    .product-image {
        width: 300px;
        height: 350px;
    }

    .ModificationButtons{
        display:flex;
        flex-direction: row;
        margin: 10px;
        flex-wrap: wrap;
    }

    .ModificationButtons a {
        margin: 5px;
    }


    button {
        display: flex;
        margin: 2px;
        padding: 10px;
    }

    .allProducts {
        display: flex;
    }

    .info{
        display:flex;
        flex-direction:column;
    }*/

    h4{
    	font-weight: 600;
	}
	p{
		font-size: 16px;
		margin-top: 5px;
	}
	.price{
		font-size: 25px;
    	margin: 0 auto;
    	color: #333;
	}
	.right{
		float:right;
		border-bottom: 2px solid #4B8E4B;
	}
	.thumbnail{
		opacity:0.90;
		-webkit-transition: all 0.5s; 
		transition: all 0.5s;
	}
	.thumbnail:hover{
		opacity:1.00;
		box-shadow: 0px 0px 10px #4bc6ff;
	}
	.line{
		margin-bottom: 5px;
	}

    

	@*@media screen and (max-width: 770px) {
		.right{
			float:left;
			width: 100%;
		}
	}*@


</style>

